<html>
    <head>
        <title> Library 3D-Elements Test </title>

        <script src='vector3d.js'></script>
        <script src='matrix4by4.js'></script>
        <script src='../3d-transforms/applier.js'></script>
        <script src='../3d-transforms/rotation.js'></script>
        <script src='../3d-transforms/scale.js'></script>
        <script src='../3d-transforms/translate.js'></script>
    </head>

    <body>
        <script>
            function TestMatrix4By4() {
                let m1 = new Matrix4By4(
                    1, 2, 3, 4,
                    5, 6, 7, 8,
                    9, 10, 11, 12,
                    13, 14, 15, 16
                );

                let m2 = Matrix4By4.fromArray(
                    Array(4).fill(Array(4).fill(2))
                );

                let m3 = Matrix4By4.unit().mult(3).write(0, 0, -1);

                console.log('m1 before');
                m1.log();
                console.log('m2 before');
                m2.log();

                console.log('add 2');
                m1.sub(m2);

                console.log('m1 after');
                m1.log();
                console.log('m2 after');
                m2.log();

                console.log();
                console.log('m1');
                m1.log();
                console.log();
                console.log('*');
                console.log();
                console.log('m3');
                m3.log();
                console.log();
                console.log('=');
                console.log();
                Matrix4By4.prod(m1, m3).log();
                console.log();
            }

            function TestRotation() {
                console.log(rotation);
            }

            function TestScale() {
                let v = new Vector3D(2, -1, 4);
                console.log('from vector');
                v.log();

                console.log('Scale(2, 3, 4)');
                let s = Applier.apply(v, Scale(2, 3, 4).matrix);
                s.log();
            }

            function TestTranslate() {
                let v = new Vector3D(2, 2, 2);
                console.log('from vector');
                v.log();

                console.log('Translate(3, -4, 1)');
                let s = Applier.apply(v, Translate(3, -4, 1).matrix);
                s.log();
            }
        </script>

        <script>
            //TestMatrix4By4();
            //TestRotation();
            TestScale();
            TestTranslate();
        </script>
    </body>
</html>